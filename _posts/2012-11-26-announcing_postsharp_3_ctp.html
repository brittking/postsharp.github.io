---
layout: post 
comments: true
title: "Announcing PostSharp 3 CTP"
date: 2012-11-26 11:10:54 +01:00
permalink: /post/announcing-postsharp-3-ctp.html
author: "Gael Fraiteur"
---
<p>The PostSharp team is excited to announce today the first public release of PostSharp 3, available for <a href="http://visualstudiogallery.msdn.microsoft.com/a058d5d3-e654-43f8-a308-c3bdfdd0be4a" target="_blank">download</a> on the <a href="http://visualstudiogallery.msdn.microsoft.com/a058d5d3-e654-43f8-a308-c3bdfdd0be4a" target="_blank">Visual Studio Gallery</a> and NuGet (make sure to allow prereleases).</p>


  <p>This release marks an important turning point in the way we talk about PostSharp. During the last 8 years, we have successfully positioned PostSharp as the leading framework for aspect-oriented programming in Microsoft .NET. We provided an abstract construction kit and told customers they could build “whatever they wanted” with it. However, we became increasingly aware that the vast majority of our customers were all re-implementing the same aspects. </p>  <p>In addition to just providing a wonderful framework, we now offer more value to our customers by delivering ready-made implementations of the most common design patterns that hang over application development today:</p>  <ul>   <li>Logging for System.Diagnostics, NLog, Log4Net (Enterprise Library coming soon); </li>    <li>Design patterns for safe multithreading; </li>    <li>INotifyPropertyChanged beyond the obvious; </li>    <li>Architectural validation; </li>    <li>Change tracking and undo/redo (coming soon); </li>    <li>Value validation: not null, regular expression, range, custom rules, … (coming soon); </li> </ul>  <p>Long-time PostSharpers know that we already started building on this vision nearly a year ago with our PostSharp Toolkits, published as free add-ons to PostSharp 2.1 Pro Edition. Although the toolkits have always been an important part of our vision for PostSharp 3, we wanted to nurture these projects jointly with our community and release them continuously. The incubation period is now over, and we are happy to announce that PostSharp toolkits will join our product line as first-class members.</p>  <p>With PostSharp 3, not only do we provide ready-made solutions to top problems, but we also make these solutions much more accessible than ever. With the new content-sensitive smart tags and wizards, you will be able to implement design patterns in a matter of minutes, without need to read extensive documentation.</p>  <p>So, beyond the new orientation, what’s new in PostSharp 3?</p>  <h2>Smart tags and wizards in Visual Studio</h2>  <p>The single most striking feature of PostSharp 3 is its deeper integration with Visual Studio. </p>  <p>For instance, move the caret to the name of a class or a method. Visual Studio will display a smart tag proposing actions that make sense in the current context: apply a threading model, add logging, implement INotifyPropertyChanged, …</p> <img style="border-top: black 1px solid; border-right: black 1px solid; border-bottom: black 1px solid; float: none; margin: 5px auto; border-left: black 1px solid; display: block" alt="" src="/blog/image.axd?picture=181e9d481ea7ea59.png">   <p>A wizard-like user interface then collects all relevant settings and performs the required operations, such as installing a NuGet package and adding a custom attribute to your code.</p> <img alt="" src="/blog/image.axd?picture=4fc17d671cdb6050.png" width="618" height="486">   <h2>Support for Visual Studio 2012</h2>  <p>Visual Studio 2012 is now fully supported. Windows Store projects are supported too (see below). Visual Studio 2010 is still supported at an equal level of features, but support for Visual Studio 2008 has been discontinued.</p>  <h2>First-Class Support for Windows Store Apps, Silverlight, and Windows Phone</h2>  <p>Silverlight and Windows Phone (previously .NET Compact Framework) have been supported since PostSharp 1.5, but only a small subset of features was actually available for these platforms. This limitation was due to the inability of previous versions of PostSharp to execute, at build-time, code that was linked to exogenous platforms. Concretely, this affected features such as <b>CompileTimeValidate</b>, <b>CompileTimeInitialize</b>, <b>IAspectProvider</b> and <b>MethodPointcut</b>.</p>  <p>Thanks to some significant engineering effort, this limitation is now removed and all PostSharp features are now equally available on all supported platforms.</p>  <h2>Support for Portable Class Libraries</h2>  <p>Exogenous platforms are now supported through a single Portable Class Library that can target .NET 4.0, Silverlight 4, Windows Phone 7, and Windows Store 8. Therefore, it is now possible to create portable aspect libraries.</p>  <p>Note that a separate version of PostSharp.dll is still available for .NET 2.0. Unlike the portable version, this one supports serialization of aspects through the BinaryFormatter and provides backward compatibility not only with previous versions of .NET, but also with previous versions of PostSharp.</p>  <p>Because the BinaryFormatter is not portable, we had to develop our own portable serializer. Unlike other formatters readily available with the portable class library, and just as the BinaryFormatter, our implementation serializes the internal object structure (i.e. fields, and not public properties) and supports cyclic object graphs. To use the portable serializer, just use [PSerializable] instead of [Serialiable] and [PNonSerialized] instead of [NonSerialized]. This alone is already a pretty piece of software!</p>  <p>In order to provide support for portable class libraries, we had to do some breaking changes in PostSharp.dll. Specifically, the interface <b>_Assembly</b> is now replaced everywhere by the class <b>Assembly</b>. We had to use the interop interface <b>_Assembly</b> in previous versions of PostSharp because the class <b>Assembly</b> used to be sealed. Since _<b>Assembly</b> is not portable and <b>Assembly</b> is now portable and abstract, we decided to make this breaking change.</p>  <p>Practically, it means that PostSharp 3 won’t compile aspects linked to a previous version.</p>  <h2>Unified Deployment Experience</h2>  <p>As industry has evolved since PostSharp’s debuts in 2004, we decide to embrace Microsoft’s new vision of development tools deployment. PostSharp distribution is now clearly split into two parts: the compiler is now only distributed as a NuGet package and published on the NuGet Gallery, and the user interface is shipped as a VSIX package and published on the Visual Studio Gallery.</p>  <h2>Feature Scavenging</h2>  <p>It’s sometimes necessary to make difficult choices and discontinue support for scenarios that seem no longer central. That’s what we did with the following features:</p>  <ul>   <li>Support for Mono as a build platform, </li>    <li>Support for Visual Studio 2005 and .NET 3.5 as a build platform (.NET 2.0 is still supported as a runtime platform), </li>    <li>Support for .NET Compact Framework (Windows Phone 7 is supported through the Portable Class Library), </li>    <li>Support for Silverlight 3 (Silverlight 4 is supported through the Portable Class Library), </li>    <li>Diagnostic build, </li>    <li>Diagnostic console, </li>    <li>Windows Installer distribution, </li>    <li>Zip package distribution. </li> </ul>  <p>Customers who rely on these features have the possibility to keep using PostSharp 2.1, which is still maintained. Also, note that the user interface of PostSharp 3 is compatible with the compiler of PostSharp 2.1, so side-by-side usage is possible.</p>  <p>Commercial customers who are severely affected by these deprecations are invited to contact us directly.</p>  <h2>Continuous Delivery and Subscription-Based Maintenance</h2>  <p>As of PostSharp 2.1 we officially switched to a continuous delivery process. We abandoned the distinction between “milestone releases” and “hotfixes” to assure that our customers will always have the latest build from the download page on our website, as well as on NuGet.</p>  <p>All paid PostSharp 3 licenses will come with subscription-based maintenance including 1 year of free updates, web-based technical support, phone support, remote assistance and issue escalation. Maintenance subscriptions are renewed annually with multi-year subscriptions available. Pricing for all PostSharp 3 editions will be announced shortly.</p>  <h2>Conditions for Free Upgrade </h2>  <p>Those who recently purchased PostSharp 2.1 without support subscription will be eligible for a free upgrade to PostSharp 3, with 6 months of free maintenance from the original date of purchase. This offer is valid only for customers who purchase PostSharp 2.1 within 6 months of the official PostSharp 3 release, scheduled for Q1 2013.</p>  <p>Current PostSharp 2.1 customers with support subscription can upgrade to PostSharp 3 and will receive an additional 6 months of maintenance to their subscription – at no cost.</p>  <h2>Limitations</h2>  <p>Note that PostSharp is currently in pre-release quality. It comes with several minor issues and the following limitations:</p>  <ul>   <li>All new APIs are still subject to change. </li>    <li>Support for obfuscation is not yet available for portable class library. </li> </ul>  <h2>Summary</h2>  <p>Starting today, you will hear much less about aspect-oriented programming from us and much more about patterns. Engineers need patterns because they have been proven to reduce complexity and PostSharp provides ready-made implementations of some of the most common patterns found in .NET applications. Furthermore, PostSharp helps you to build custom design patterns of your own, implement them automatically, and validate that they have been implemented properly. AOP remains at the heart of PostSharp as one of the enabling technologies, but now PostSharp adds even more value to software engineering.</p>  <p>Happy PostSharping!</p>  <p>-gael</p>
